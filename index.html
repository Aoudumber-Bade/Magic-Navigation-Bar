<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <script src="https://kit.fontawesome.com/2e95d79f91.js" crossorigin="anonymous"></script>
    <title>Magic Navigation Bar</title>
</head>
<body>
    <nav>
        <ul>
            <li><i class="fa-solid fa-house"></i></li>
            <li><i class="fa-solid fa-user"></i></li>
            <li class="active"><i class="fa-solid fa-bag-shopping"></i></li>
            <li><i class="fa-solid fa-images"></i></li>
            <li><i class="fa-solid fa-gear"></i></li>
        </ul>
        <div class="effect">
            <div class="circle"></div>
        </div>
    </nav>
    <div class="content">
        <h1>Magic navigation bar</h1>
    </div>
    
    <script>
       let nav = document.querySelector('nav');
let items = document.querySelectorAll('ul li');

items.forEach(item => {
    item.onclick = () => {
        let oldActive = nav.querySelector('li.active');
        if (oldActive) oldActive.classList.remove('active');
        item.classList.add('active');
        nav.style.setProperty('--position-x-active', item.offsetLeft + 'px');
    }
});

// Move this inside the loop or trigger it after a click event
// let itemActive = nav.querySelector('li.active');
// if (itemActive) nav.style.setProperty('--position-x-active', itemActive.offsetLeft + 'px');

    </script>

</body>
</html>